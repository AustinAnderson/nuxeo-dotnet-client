<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Nuxeo .Net Client: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="macdev-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nuxeo .Net Client
   &#160;<span id="projectnumber">1.0.0 beta</span>
   </div>
   <div id="projectbrief">.NET Client for Nuxeo Automation and REST API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Nuxeo .Net Client Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Nuxeo .NET Client is a cross-platform client library developed in C# for the Nuxeo Automation and REST API.</p>
<p>Nuxeo .NET Client targets two platforms: <code>net45</code> and <code>dnxcore50</code>. This allows it to be used to develop apps for not only Windows but also Linux and Mac OS. Bellow follows an app/platform compatibility table for the Nuxeo .NET Client library:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;+------------------------------------+------------+</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;|                                    | Compatible |</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;+------------------------------------+------------+</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;| Destkop .NET 4.5+                  | Yes        |</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;| ASP .NET 4.5+                      | Yes        |</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;| ASP .NET 5 (Native &amp; CoreCLR)      | Yes        |</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;| DNX Console App (Native &amp; CoreCLR) | Yes        |</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;| Windows 8/8.1 Store APP            | No         |</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;| Windows Phone 8/8.1                | No         |</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;| Universal Windows Platform (UWP)   | No         |</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;| Xamarin.Android                    | Yes?       |</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;| Xamarin.iOS                        | Yes?       |</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;+------------------------------------+------------+</div>
</div><!-- fragment --><h2>Setup</h2>
<p>In order to run Nuxeo .NET Client, you must have installed the .NET Core DNX SDK, version 1.0.0-beta8 or above, or .NET 4.5 on a Windows setup. Installation instructions follow below:</p>
<h3>Developing for net45</h3>
<ul>
<li>Download and install <a href="https://www.microsoft.com/en-us/download/details.aspx?id=30653">.NET Framework 4.5</a></li>
<li>Visual Studio 2013 or above required.</li>
</ul>
<h3>Developing for dnxcore50</h3>
<ol type="1">
<li>Install .NET Core:<ul>
<li><a href="http://dotnet.readthedocs.org/en/latest/getting-started/installing-core-linux.html">Linux instructions</a></li>
<li><a href="https://docs.asp.net/en/latest/getting-started/installing-on-mac.html">Mac OS instructions</a></li>
<li><a href="http://dotnet.readthedocs.org/en/latest/getting-started/installing-core-windows.html">Windows instructions</a></li>
</ul>
</li>
<li><p class="startli">Add the following feeds to NuGet config file:</p><ul>
<li><a href="https://www.myget.org/F/aspnetvnext/">https://www.myget.org/F/aspnetvnext/</a></li>
<li><a href="https://www.nuget.org/api/v2/">https://www.nuget.org/api/v2/</a></li>
</ul>
<p class="startli">If you do not yet have a config file, create it on:</p><ul>
<li>For Mac OS &amp; Linux: *~/.config/NuGet/NuGet.config*</li>
<li>For Windows: *AppData%/NuGet/NuGet.Config*</li>
</ul>
<p class="startli">And paste the following contents:</p>
</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;<span class="keywordtype">configuration</span>&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  &lt;<span class="keywordtype">packageSources</span>&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &lt;<span class="keywordtype">add</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;AspNetVNext&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;https://www.myget.org/F/aspnetvnext/&quot;</span> /&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    &lt;<span class="keywordtype">add</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;NuGet&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;https://www.nuget.org/api/v2/&quot;</span> /&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  &lt;/<span class="keywordtype">packageSources</span>&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;&lt;/<span class="keywordtype">configuration</span>&gt;</div>
</div><!-- fragment --><h4>On Visual Studio 2015</h4>
<p>If you are using Visual Studio 2015 on Windows, you will need to download the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=49442">Microsoft ASP.NET and Web Tools 2015 (Beta8) â€“ Visual Studio</a>. Two setup files must be installed:</p>
<ul>
<li><em>DotNetVersionManager-x64.msi</em></li>
<li><em>WebToolsExtensionsVS14.msi</em> for Visual Studio 2015 or <em>WebToolsExtensionsVWD14.msi</em> for Visual Studio 2015 Express</li>
</ul>
<h2>Usage</h2>
<h3>1. Include <a class="el" href="namespace_nuxeo_client.html">NuxeoClient</a> in your project</h3>
<p>On Visual Studio, run on the Package Manager Console: <code>PM&gt; Install-Package <a class="el" href="namespace_nuxeo_client.html">NuxeoClient</a> -Pre</code></p>
<p>If you are developing for dnxcore50, include <a class="el" href="namespace_nuxeo_client.html">NuxeoClient</a> in your project.json file:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  ...,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  &quot;dependencies&quot;: {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      ...,</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      &quot;NuxeoClient&quot;: &quot;1.0.0-*&quot;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  },</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  ...</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;}</div>
</div><!-- fragment --><p>... and run <code>dnu restore</code>.</p>
<h3>2. Reference it in the code</h3>
<p>Reference <em><a class="el" href="namespace_nuxeo_client.html">NuxeoClient</a></em> and <em><a class="el" href="namespace_nuxeo_client_1_1_wrappers.html">NuxeoClient.Wrappers</a></em> namespaces:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;using NuxeoClient;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;using NuxeoClient.Wrappers;</div>
</div><!-- fragment --><h3>3. Now let's create an instance of <a class="el" href="namespace_nuxeo_client.html">NuxeoClient</a> and use it!</h3>
<p>Create a new instance of <a class="el" href="namespace_nuxeo_client.html">NuxeoClient</a>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Client client = new Client(); // assuming server running on localhost:8080</div>
</div><!-- fragment --><p>Create a folder named "Test Folder 1" on the root:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;client.Operation(&quot;Document.Create&quot;)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      .SetInput(&quot;doc:/&quot;)</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      .SetParameter(&quot;type&quot;, &quot;Folder&quot;)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      .SetParameter(&quot;name&quot;, &quot;TestFolder1&quot;)</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      .SetParameter(&quot;properties&quot;, new ParamProperties { { &quot;dc:title&quot;, &quot;Test Folder 1&quot; } })</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      .Execute();</div>
</div><!-- fragment --><p>Please check the tests on <em>test/TCK</em> for more usage examples and the <a href="#tutorial">tutorial</a> and the end of this document.</p>
<h2>Running the Tests</h2>
<p>This project includes a Test Compatibility Kit (TCK) covering several tests on the client. In order for the tests to run, there must be an instance of the Nuxeo Server running, loading <em>nuxeo-automation-test-7.10-SNAPSHOT.jar</em>.</p>
<p>Before building and running the tests, the server's IP address should be updated in the <em>test/TCK/Config.cs</em> file.</p>
<h4>On Windows</h4>
<ol type="1">
<li>Build the version of the TCK you want to test, by either running <code>tools\BuildDnx.ps1</code> or <code>tools\BuildNet45.ps1</code>.</li>
<li>Run the TCK with <code>tools\TestDnx.ps1</code> or <code>tools\TestNet45.ps1</code></li>
</ol>
<h4>On Mac OS or Linux</h4>
<p>On the solution folder, run:</p>
<ol type="1">
<li><code>dnu restore</code> to download all dependencies</li>
<li><code>cd test/TCK</code> to move to the TCK folder</li>
<li><code>dnx test</code> to run all tests</li>
</ol>
<h2>Known Issues</h2>
<p>There is currently a bug where DELETE requests are sent as GET on Linux and Mac OS only, which prevents operations such as deleting documents and drop batches from working. This issue was reported <a href="https://github.com/dotnet/corefx/issues/4134">here</a>. <b>This bug causes 5 out of 9 tests of the TCK to fail</b>, on the last stage where all temporary files are deleted. </p><h2>Tutorial</h2>
<p>Let's make a quick DNX Console App that creates a folder on the server's root and a child document. This quit tutorial assumes that you have an instance of Nuxeo Server running on your local machine.</p>
<ul>
<li>Create a new directory for your project named <em>TestNuxeoApp</em> and <code>cd</code> there</li>
<li>Create a new <em>project.json</em> with dependencies to "System.Console" and "NuxeoClient". It should look something like this:</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  &quot;version&quot;: &quot;1.0.0-*&quot;,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  &quot;description&quot;: &quot;Nuxeo Test App&quot;,</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  &quot;authors&quot;: [</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    &quot;John Doe&quot;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  ],</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  &quot;tags&quot;: [</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    &quot;&quot;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  ],</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  &quot;projectUrl&quot;: &quot;&quot;,</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  &quot;licenseUrl&quot;: &quot;&quot;,</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  &quot;dependencies&quot;: {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    &quot;System.Console&quot;: &quot;4.0.0-beta-23409&quot;,</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    &quot;NuxeoClient&quot;: &quot;1.0.0-*&quot;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  },</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  &quot;frameworks&quot;: {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    &quot;dnxcore50&quot;: {}</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  }</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div>
</div><!-- fragment --><ul>
<li>Inside the project directory, create a new file named <em>Program.cs</em>. Make it create a new Nuxeo Client, create a folder in the server's root directory named "My Folder", and then a file inside My Folder named "My File". It should look something like this:</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;using System;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;using System.Threading.Tasks;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;using NuxeoClient;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;using NuxeoClient.Wrappers;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;namespace TestNuxeoApp</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    public class Program</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        public static void Main(string[] args)</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;            // create a new Nuxeo Client, which is a disposable objects</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            using(var client = new Client())</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;            {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                // let&#39;s create an async job that doesn&#39;t block</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                Task.Run(async () =&gt; {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                    // perform an async request to create a folder on the root with the title &quot;My Folder&quot;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                    Document folder = (Document)await client.Operation(&quot;Document.Create&quot;)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;                                                            .SetInput(&quot;doc:/&quot;)</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                                                            .SetParameter(&quot;type&quot;, &quot;Folder&quot;)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                                                            .SetParameter(&quot;name&quot;, &quot;MyFolder&quot;)</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                                            .SetParameter(&quot;properties&quot;, new ParamProperties { { &quot;dc:title&quot;, &quot;My Folder&quot; } })</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                                                            .Execute();</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                    // print the returned folder object if it is not null           </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                    Console.WriteLine(folder == null ? &quot;Failed to create folder.&quot; : &quot;Created &quot; + folder.Path);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                    // perform an async request to create a child file named &quot;My File&quot;                      </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                    Document file = (Document)await folder.Post(new Document {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                        Type = &quot;File&quot;,</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                        Name = &quot;MyFile&quot;,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                        Properties = new Properties { { &quot;dc:title&quot;, &quot;My File&quot; } }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                    });</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                    // print the returned file object if it is not null                    </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                    Console.WriteLine(file == null ? &quot;Failed to create file.&quot; : &quot;Created &quot; + file.Path);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                }).Wait(); // let&#39;s wait for the task to complete</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
</div><!-- fragment --><ul>
<li>Restore dependencies by running <code>dnu restore</code></li>
<li>Run the app by running <code>dnx run</code></li>
<li>Check the server and verify that the documents were created </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
